---
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Hero from '../components/Hero.astro';
import Shop from '../components/Shop.astro';
import Philosophy from '../components/Philosophy.astro';
import Footer from '../components/Footer.astro';
import { SITE_DESCRIPTION, SITE_TITLE } from '../consts';
---

<!doctype html>
<html lang="es">
	<head>
		<BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
	</head>
	<body>
		<Header />
    <main>
			<Hero />
			<Shop />
			<Philosophy />
		</main>
		<Footer />

		<script>
			window.translations = {
				es: {
					// Navigation
					shop: 'Tienda Todo',
					roots: 'Nuestras Raíces',
					contact: 'Contacto',
					// Hero
					heroSubtitle: 'Cosechado a mano bajo el sol',
					heroTitle: 'Romero Salvaje & <br><i class="serif">Manzanilla Antigua</i>',
					heroDescription: 'Extractos botánicos puros destilados usando métodos mediterráneos tradicionales. Lotes pequeños, alma infinita.',
					exploreCollection: 'Explorar la Colección',
					// Shop section
					openingCollection: 'La Colección Inaugural',
					collectionSubtitle: 'Tres esenciales para un ritual consciente.',
					productsAvailable: '3 Productos Disponibles',
					quickAdd: 'Añadir Rápido',
					rosemaryTitle: 'Aceite de Romero de Montaña',
					rosemaryDesc: 'Enfoque y Claridad • 50ml',
					chamomileTitle: 'Bruma de Manzanilla Dorada',
					chamomileDesc: 'Calmante y Tranquilidad • 100ml',
					balmTitle: 'Bálsamo de Rescate del Herbolario',
					balmDesc: 'Reparar y Proteger • 30g',
					// Philosophy section
					philosophyTitle: 'Cultivado donde el sol se demora.',
					philosophyText: 'Nuestro proceso respeta la filosofía de la "Siesta"—no apresuramos la cosecha. Esperamos a que el sol mediterráneo maximice los aceites esenciales dentro de las hojas de nuestro romero y los pétalos de nuestra manzanilla.',
					organicCertified: 'Certificado Orgánico',
					plasticFree: 'Empaque Libre de Plástico',
					veganCrueltyFree: 'Vegano y Libre de Crueldad',
					// Footer
					gardenClub: 'Únete al Club del Jardín',
					gardenClubText: 'Regístrate para consejos botánicos y acceso anticipado a nuestras futuras lanzamientos estacionales.',
					emailPlaceholder: 'Tu dirección de correo electrónico',
					subscribe: 'Suscribirse',
					bestSellers: 'Más Vendidos',
					subscription: 'Suscripción',
					gifting: 'Regalos',
					shippingPolicy: 'Política de Envío',
					contactUs: 'Contáctanos',
					stockists: 'Distribuidores',
					copyright: '© 2026 alfabotánica. Todos los derechos reservados.',
					instagram: 'Instagram',
					pinterest: 'Pinterest'
				},
				en: {
					// Navigation
					shop: 'Shop All',
					roots: 'Our Roots',
					contact: 'Contact',
					// Hero
					heroSubtitle: 'Hand-harvested in the Sun',
					heroTitle: 'Wild Rosemary & <br><i class="serif">Ancient Chamomile</i>',
					heroDescription: 'Pure botanical extracts distilled using traditional Mediterranean methods. Small batches, infinite soul.',
					exploreCollection: 'Explore the Collection',
					// Shop section
					openingCollection: 'The Opening Collection',
					collectionSubtitle: 'Three essentials for a conscious ritual.',
					productsAvailable: '3 Products Available',
					quickAdd: 'Quick Add',
					rosemaryTitle: 'Mountain Rosemary Oil',
					rosemaryDesc: 'Focus & Clarity • 50ml',
					chamomileTitle: 'Golden Chamomile Mist',
					chamomileDesc: 'Soothing & Calm • 100ml',
					balmTitle: 'Herbalist\'s Rescue Balm',
					balmDesc: 'Repair & Protect • 30g',
					// Philosophy section
					philosophyTitle: 'Grown where the sun lingers.',
					philosophyText: 'Our process respects the "Siesta" philosophy—we don\'t rush the harvest. We wait for the Mediterranean sun to maximize the essential oils within the leaves of our rosemary and the petals of our chamomile.',
					organicCertified: 'Organic Certified',
					plasticFree: 'Plastic Free Packaging',
					veganCrueltyFree: 'Vegan & Cruelty Free',
					// Footer
					gardenClub: 'Join the Garden Club',
					gardenClubText: 'Sign up for botanical tips and early access to our future seasonal releases.',
					emailPlaceholder: 'Your email address',
					subscribe: 'Subscribe',
					bestSellers: 'Best Sellers',
					subscription: 'Subscription',
					gifting: 'Gifting',
					shippingPolicy: 'Shipping Policy',
					contactUs: 'Contact Us',
					stockists: 'Stockists',
					copyright: '© 2026 alfabotánica. All Rights Reserved.',
					instagram: 'Instagram',
					pinterest: 'Pinterest'
				},
				fr: {
					// Navigation
					shop: 'Boutique Tout',
					roots: 'Nos Racines',
					contact: 'Contact',
					// Hero
					heroSubtitle: 'Récolté à la main au soleil',
					heroTitle: 'Romarin Sauvage & <br><i class="serif">Camomille Ancienne</i>',
					heroDescription: 'Extraits botaniques purs distillés selon des méthodes méditerranéennes traditionnelles. Petits lots, âme infinie.',
					exploreCollection: 'Explorer la Collection',
					// Shop section
					openingCollection: 'La Collection Inaugurale',
					collectionSubtitle: 'Trois essentiels pour un rituel conscient.',
					productsAvailable: '3 Produits Disponibles',
					quickAdd: 'Ajouter Rapidement',
					rosemaryTitle: 'Huile de Romarin des Montagnes',
					rosemaryDesc: 'Concentration et Clarté • 50ml',
					chamomileTitle: 'Brume de Camomille Dorée',
					chamomileDesc: 'Apaisante et Calme • 100ml',
					balmTitle: 'Baume de Secours de l\'Herboriste',
					balmDesc: 'Réparer et Protéger • 30g',
					// Philosophy section
					philosophyTitle: 'Cultivé où le soleil s\'attarde.',
					philosophyText: 'Notre processus respecte la philosophie de la "Sieste"—nous ne précipitons pas la récolte. Nous attendons que le soleil méditerranéen maximise les huiles essentielles dans les feuilles de notre romarin et les pétales de notre camomille.',
					organicCertified: 'Certifié Bio',
					plasticFree: 'Emballage Sans Plastique',
					veganCrueltyFree: 'Végétalien et Cruelty Free',
					// Footer
					gardenClub: 'Rejoignez le Club Jardin',
					gardenClubText: 'Inscrivez-vous pour des conseils botaniques et un accès anticipé à nos futures sorties saisonnières.',
					emailPlaceholder: 'Votre adresse e-mail',
					subscribe: 'S\'abonner',
					bestSellers: 'Meilleures Ventes',
					subscription: 'Abonnement',
					gifting: 'Cadeaux',
					shippingPolicy: 'Politique d\'Expédition',
					contactUs: 'Nous Contacter',
					stockists: 'Revendeurs',
					copyright: '© 2026 alfabotánica. Tous droits réservés.',
					instagram: 'Instagram',
					pinterest: 'Pinterest'
				},
				it: {
					// Navigation
					shop: 'Negozio Tutto',
					roots: 'Le Nostre Radici',
					contact: 'Contatto',
					// Hero
					heroSubtitle: 'Raccolto a mano al sole',
					heroTitle: 'Rosmarino Selvatico & <br><i class="serif">Camomilla Antica</i>',
					heroDescription: 'Estratti botanici puri distillati utilizzando metodi mediterranei tradizionali. Lotti piccoli, anima infinita.',
					exploreCollection: 'Esplora la Collezione',
					// Shop section
					openingCollection: 'La Collezione Inaugurale',
					collectionSubtitle: 'Tre essenziali per un rituale consapevole.',
					productsAvailable: '3 Prodotti Disponibili',
					quickAdd: 'Aggiungi Veloce',
					rosemaryTitle: 'Olio di Rosmarino di Montagna',
					rosemaryDesc: 'Concentrazione e Chiarezza • 50ml',
					chamomileTitle: 'Nebbia di Camomilla Dorata',
					chamomileDesc: 'Lenitiva e Calma • 100ml',
					balmTitle: 'Balsamo di Salvataggio dell\'Erborista',
					balmDesc: 'Riparare e Proteggere • 30g',
					// Philosophy section
					philosophyTitle: 'Coltivato dove il sole indugia.',
					philosophyText: 'Il nostro processo rispetta la filosofia della "Siesta"—non affrettiamo il raccolto. Aspettiamo che il sole mediterraneo massimizzi gli oli essenziali nelle foglie del nostro rosmarino e nei petali della nostra camomilla.',
					organicCertified: 'Certificato Biologico',
					plasticFree: 'Confezionamento Plastica Libera',
					veganCrueltyFree: 'Vegano e Cruelty Free',
					// Footer
					gardenClub: 'Unisciti al Club Giardino',
					gardenClubText: 'Iscriviti per consigli botanici e accesso anticipato alle nostre future uscite stagionali.',
					emailPlaceholder: 'Il tuo indirizzo email',
					subscribe: 'Iscriviti',
					bestSellers: 'Più Venduti',
					subscription: 'Abbonamento',
					gifting: 'Regali',
					shippingPolicy: 'Politica di Spedizione',
					contactUs: 'Contattaci',
					stockists: 'Rivenditori',
					copyright: '© 2026 alfabotánica. Tutti i diritti riservati.',
					instagram: 'Instagram',
					pinterest: 'Pinterest'
				},
				zh: {
					// Navigation
					shop: '全部商店',
					roots: '我们的根源',
					contact: '联系',
					// Hero
					heroSubtitle: '在阳光下手工采摘',
					heroTitle: '野生迷迭香 & <br><i class="serif">古老洋甘菊</i>',
					heroDescription: '使用传统地中海方法蒸馏的纯植物提取物。小批量，无限灵魂。',
					exploreCollection: '探索收藏',
					// Shop section
					openingCollection: '开幕系列',
					collectionSubtitle: '意识仪式必备的三种精华。',
					productsAvailable: '3种产品可用',
					quickAdd: '快速添加',
					rosemaryTitle: '山地迷迭香油',
					rosemaryDesc: '专注与清晰 • 50ml',
					chamomileTitle: '金色洋甘菊喷雾',
					chamomileDesc: '舒缓与平静 • 100ml',
					balmTitle: '草药师救援膏',
					balmDesc: '修复与保护 • 30g',
					// Philosophy section
					philosophyTitle: '生长在阳光逗留的地方。',
					philosophyText: '我们的过程尊重"午睡"哲学——我们不匆忙收获。我们等待地中海阳光最大化我们迷迭香叶子内的精油和我们洋甘菊花瓣内的精油。',
					organicCertified: '有机认证',
					plasticFree: '无塑料包装',
					veganCrueltyFree: '素食且不 cruelty',
					// Footer
					gardenClub: '加入花园俱乐部',
					gardenClubText: '注册获取植物提示和提前访问我们未来的季节性发布。',
					emailPlaceholder: '您的电子邮件地址',
					subscribe: '订阅',
					bestSellers: '热销产品',
					subscription: '订阅',
					gifting: '礼品',
					shippingPolicy: '运输政策',
					contactUs: '联系我们',
					stockists: '经销商',
					copyright: '© 2026 alfabotánica. 版权所有。',
					instagram: 'Instagram',
					pinterest: 'Pinterest'
				}
			};

			// Language switcher functionality
			console.log('Inline languageSwitcher.js loaded');

			class LanguageSwitcher {
				constructor() {
					console.log('LanguageSwitcher initialized');
					this.currentLang = localStorage.getItem('alfabotanica-lang') || 'es';
					console.log('Current language:', this.currentLang);
					this.init();
				}

				init() {
					console.log('LanguageSwitcher init called');
					// Set initial language
					this.setLanguage(this.currentLang);

					// Add event listeners to language buttons
					const buttons = document.querySelectorAll('.language-btn');
					console.log('Found buttons:', buttons.length);

					buttons.forEach(btn => {
						console.log('Setting up button:', btn.dataset.lang);
						btn.addEventListener('click', (e) => {
							e.preventDefault();
							const lang = e.target.dataset.lang;
							console.log('Language button clicked:', lang);
							this.setLanguage(lang);
						});
					});
				}

				setLanguage(lang) {
					console.log('setLanguage called with:', lang);
					this.currentLang = lang;
					localStorage.setItem('alfabotanica-lang', lang);

					// Update active button
					document.querySelectorAll('.language-btn').forEach(btn => {
						btn.classList.toggle('active', btn.dataset.lang === lang);
					});

					// Update all text elements with data attributes
					this.updateTexts();
				}

				updateTexts() {
					console.log('updateTexts called for language:', this.currentLang);

					if (!window.translations) {
						console.error('Translations not available on window object');
						return;
					}

					const langData = window.translations[this.currentLang];

					// Update navigation
					const shopLink = document.querySelector('[data-lang-target="shop"]');
					if (shopLink) shopLink.textContent = langData.shop;

					const rootsLink = document.querySelector('[data-lang-target="roots"]');
					if (rootsLink) rootsLink.textContent = langData.roots;

					const contactLink = document.querySelector('[data-lang-target="contact"]');
					if (contactLink) contactLink.textContent = langData.contact;

					// Update hero section
					const heroSubtitle = document.querySelector('[data-lang-target="heroSubtitle"]');
					if (heroSubtitle) heroSubtitle.innerHTML = langData.heroSubtitle;

					const heroTitle = document.querySelector('[data-lang-target="heroTitle"]');
					if (heroTitle) heroTitle.innerHTML = langData.heroTitle;

					const heroDesc = document.querySelector('[data-lang-target="heroDescription"]');
					if (heroDesc) heroDesc.textContent = langData.heroDescription;

					const exploreBtn = document.querySelector('[data-lang-target="exploreCollection"]');
					if (exploreBtn) exploreBtn.textContent = langData.exploreCollection;

					// Update shop section
					const openingCollection = document.querySelector('[data-lang-target="openingCollection"]');
					if (openingCollection) openingCollection.textContent = langData.openingCollection;

					const collectionSubtitle = document.querySelector('[data-lang-target="collectionSubtitle"]');
					if (collectionSubtitle) collectionSubtitle.textContent = langData.collectionSubtitle;

					const productsAvailable = document.querySelector('[data-lang-target="productsAvailable"]');
					if (productsAvailable) productsAvailable.textContent = langData.productsAvailable;

					// Update product titles and descriptions
					const rosemaryTitle = document.querySelector('[data-lang-target="rosemaryTitle"]');
					if (rosemaryTitle) rosemaryTitle.textContent = langData.rosemaryTitle;

					const rosemaryDesc = document.querySelector('[data-lang-target="rosemaryDesc"]');
					if (rosemaryDesc) rosemaryDesc.textContent = langData.rosemaryDesc;

					const chamomileTitle = document.querySelector('[data-lang-target="chamomileTitle"]');
					if (chamomileTitle) chamomileTitle.textContent = langData.chamomileTitle;

					const chamomileDesc = document.querySelector('[data-lang-target="chamomileDesc"]');
					if (chamomileDesc) chamomileDesc.textContent = langData.chamomileDesc;

					const balmTitle = document.querySelector('[data-lang-target="balmTitle"]');
					if (balmTitle) balmTitle.textContent = langData.balmTitle;

					const balmDesc = document.querySelector('[data-lang-target="balmDesc"]');
					if (balmDesc) balmDesc.textContent = langData.balmDesc;

					// Update philosophy section
					const philosophyTitle = document.querySelector('[data-lang-target="philosophyTitle"]');
					if (philosophyTitle) philosophyTitle.textContent = langData.philosophyTitle;

					const philosophyText = document.querySelector('[data-lang-target="philosophyText"]');
					if (philosophyText) philosophyText.textContent = langData.philosophyText;

					// Update philosophy list items
					const organicCert = document.querySelector('[data-lang-target="organicCertified"]');
					if (organicCert) organicCert.textContent = langData.organicCertified;

					const plasticFree = document.querySelector('[data-lang-target="plasticFree"]');
					if (plasticFree) plasticFree.textContent = langData.plasticFree;

					const veganCruelty = document.querySelector('[data-lang-target="veganCrueltyFree"]');
					if (veganCruelty) veganCruelty.textContent = langData.veganCrueltyFree;

					// Update footer
					const gardenClub = document.querySelector('[data-lang-target="gardenClub"]');
					if (gardenClub) gardenClub.textContent = langData.gardenClub;

					const gardenClubText = document.querySelector('[data-lang-target="gardenClubText"]');
					if (gardenClubText) gardenClubText.textContent = langData.gardenClubText;

					const emailInput = document.querySelector('[data-lang-target="emailPlaceholder"]');
					if (emailInput) emailInput.placeholder = langData.emailPlaceholder;

					const subscribeBtn = document.querySelector('[data-lang-target="subscribe"]');
					if (subscribeBtn) subscribeBtn.textContent = langData.subscribe;

					// Update footer links
					const bestSellers = document.querySelector('[data-lang-target="bestSellers"]');
					if (bestSellers) bestSellers.textContent = langData.bestSellers;

					const subscription = document.querySelector('[data-lang-target="subscription"]');
					if (subscription) subscription.textContent = langData.subscription;

					const gifting = document.querySelector('[data-lang-target="gifting"]');
					if (gifting) gifting.textContent = langData.gifting;

					const shippingPolicy = document.querySelector('[data-lang-target="shippingPolicy"]');
					if (shippingPolicy) shippingPolicy.textContent = langData.shippingPolicy;

					const contactUs = document.querySelector('[data-lang-target="contactUs"]');
					if (contactUs) contactUs.textContent = langData.contactUs;

					const stockists = document.querySelector('[data-lang-target="stockists"]');
					if (stockists) stockists.textContent = langData.stockists;

					const copyright = document.querySelector('[data-lang-target="copyright"]');
					if (copyright) copyright.textContent = langData.copyright;

					const instagram = document.querySelector('[data-lang-target="instagram"]');
					if (instagram) instagram.textContent = langData.instagram;

					const pinterest = document.querySelector('[data-lang-target="pinterest"]');
					if (pinterest) pinterest.textContent = langData.pinterest;

					console.log('All text elements updated for language:', this.currentLang);
				}
			}

			// Initialize when DOM is loaded
			document.addEventListener('DOMContentLoaded', () => {
				console.log('DOM loaded, initializing LanguageSwitcher');
				new LanguageSwitcher();
			});
		</script>
	</body>
</html>
