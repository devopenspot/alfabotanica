---
import { Image } from 'astro:assets';
import type { CollectionEntry } from 'astro:content';
import BaseHead from '../components/BaseHead.astro';
import Footer from '../components/Footer.astro';
import Header from '../components/Header.astro';
import WhatsAppButton from '../components/WhatsAppButton.astro';
import ShareButton from '../components/ShareButton.astro';
import BackButton from '../components/BackButton.astro';

type Props = CollectionEntry<'products'>['data'];

const { id, name, title, description, heroImage, price, benefits, extracts, useMode, ...rest } = Astro.props;
---

<html lang="en">
	<head>
		<BaseHead title={`${name} ${title} ${extracts}`} description={description} heroImage={heroImage} />
	</head>

	<body>
		<!-- <Header /> -->

		<main class="text-[#4B5E45] text-sm overflow-hidden">
			<div class="w-full bg-[#4B5E45] p-4 flex flex-col items-center">
				<h1 class="font-playfair text-white text-5xl tracking-[0.4em] uppercase">
					{name}
				</h1>
				<span class="font-playfair text-white text-xs tracking-[0.4em] uppercase mt-4">
					{title}
				</span>
			</div>
			<div class="container px-5 py-12 mx-auto">
				<div class="lg:w-4/5 mx-auto flex flex-wrap">
					{heroImage && <Image height={400} src={heroImage} alt={title} loading="lazy" format="webp" sizes="100vw" densities={[0.5, 1, 2]} class="lg:w-1/2 w-full lg:h-auto h-64 object-cover object-center rounded" />}
					<div class="lg:w-1/2 w-full lg:pl-10 lg:py-0 mt-6 lg:mt-0">
						<p class="flex flex-col gap-2 leading-relaxed">
							{description}
						</p>
						<p class="flex flex-col gap-2 leading-relaxed">
							{benefits && (
								<ul class="list-disc ml-5 mt-2">
									{benefits.map((benefit) => (
										<li>{benefit}</li>
									))}
								</ul>
							)}
						</p>
						<p class="flex flex-col gap-2 leading-relaxed">
							{useMode}
						</p>
						<div class="flex mt-6 items-center pb-5 border-b-2 border-gray-100 mb-5">
							<div class="flex flex-col gap-2 mx-6 justify-around w-full items-start">
								{price && (
									price.map((item) => {
										return (
											<span class="title-font font-medium text-gray-900">
												{item}
											</span>
										);
									})
								)}
							</div>
						</div>
						<div class="flex flex-col md:flex-row gap-1 justify-between">
							<WhatsAppButton productName={`${name} ${title} ${extracts}`} sku={id.toString()} />
							<ShareButton />
							<BackButton />
						</div>
					</div>
				</div>
			</div>
		</main>
	</body>
</html>
